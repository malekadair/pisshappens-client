(this["webpackJsonppisshappens-client"]=this["webpackJsonppisshappens-client"]||[]).push([[0],{40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),o=n.n(r),i=n(4),l=(n(40),n(1)),s=n(11),m=n.n(s),u=(n(58),n(15)),p=n(16),f=n(19),d=n(18),E=(n(59),function(){return c.a.createElement("nav",{className:"zone sticky main-nav"},c.a.createElement(i.b,{className:"right  siteTitle",to:"/"},"PissHappens"),c.a.createElement(i.b,{className:"comics",to:"/comics"},"See Comics"))});n(65),n(66);var b=function(){return c.a.createElement("footer",{className:"zone footer-content"},c.a.createElement("h2",{className:"footer-link footer-right"},"c@2020"),c.a.createElement("a",{className:"footer-link grace",href:"https://arbitraders.io/",target:"_blank",rel:"noopener noreferrer"},"Kevin Schwindt"),c.a.createElement("a",{className:"footer-link malek",href:"https://malekadair.github.io/portfolio/",target:"_blank",rel:"noopener noreferrer"},"Malek Adair"))},h=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement("main",null,c.a.createElement("h2",null,"HomePage"),c.a.createElement("p",null,'Welcome to PissHappens Comics! Click "See Comics" to check out some of our most recently added comics.')),c.a.createElement(b,null))}}]),n}(a.Component),v=n(9),j=n.n(v),O=n(12),C=n(3),y=(a.Component,function(e){return console.log("props",e),c.a.createElement(i.b,{to:"/comics/".concat(e.comic.id)},c.a.createElement("div",{className:"comicItem"},c.a.createElement("h4",null,e.comic.title),c.a.createElement("p",null,"Comic #",e.comic.id),c.a.createElement("p",null,"Title: ",e.comic.title),c.a.createElement("p",null,"Description: ",e.comic.description),c.a.createElement("p",null,"Added on: ",e.comic.date_created)))}),g=c.a.createContext({comicsList:[],error:null,setError:function(){},clearError:function(){},setComicsList:function(){},clearComicsList:function(){}});function k(e){var t=e.children,n=Object(a.useState)([{color:"blue",name:"gray",price:1}]),r=Object(C.a)(n,2),o=r[0],i=r[1],l=Object(a.useState)(!1),s=Object(C.a)(l,2),m=s[0],u=s[1],p={comicsList:o,setComicsList:i,error:m,setError:u,clearError:function(){u({error:null})},clearComicsList:function(){i({})}};return c.a.createElement(g.Provider,{value:p},t)}var S="https://aqueous-beach-36007.herokuapp.com/api",w=function(e){var t=Object(a.useState)([]),n=Object(C.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(C.a)(i,2),s=l[0],u=l[1],p=Object(a.useContext)(g),f=(p.comicsList,p.setComicsList);p.error,p.setError,p.clearErrorList,p.clearComicsList;Object(a.useEffect)((function(){(function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,m()("".concat(S,"/comics"));case 3:t=e.sent,o(t.data),f(t.data),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement("main",null,c.a.createElement("h2",null,"Comics List Page"),s?"Loading, please wait...":r.map((function(e){return c.a.createElement(y,{key:e.id,comic:e})}))),c.a.createElement(b,null))},x=n(23);var L=function(e){var t=e.comicUrl,n=e.copyUrl;return console.log("asdfa",e),c.a.createElement("form",{onSubmit:function(e){return n(e)}},c.a.createElement("input",{id:"copyUrl",type:"text",defaultValue:t}),c.a.createElement("button",null,"Copy to clipboard"))},D=c.a.createContext({comicData:[],error:null,setError:function(){},clearError:function(){},setComicData:function(){},clearComicData:function(){}});function N(e){var t=e.children,n=Object(a.useState)([{color:"blue",name:"gray",price:1}]),r=Object(C.a)(n,2),o=r[0],i=r[1],l=Object(a.useState)(!1),s=Object(C.a)(l,2),m=s[0],u=s[1],p={comicData:o,setComicData:i,error:m,setError:u,clearError:function(){u({error:null})},clearComicData:function(){i({})}};return c.a.createElement(D.Provider,{value:p},t)}var P=c.a.createContext({commentsList:[],error:null,setError:function(){},clearError:function(){},setCommentsList:function(){},clearCommentsList:function(){}});function U(e){var t=e.children,n=Object(a.useState)([{color:"blue",name:"gray",price:1}]),r=Object(C.a)(n,2),o=r[0],i=r[1],l=Object(a.useState)(!1),s=Object(C.a)(l,2),m=s[0],u=s[1],p={commentsList:o,setCommentsList:i,error:m,setError:u,clearError:function(){u({error:null})},clearCommentsList:function(){i({})}};return c.a.createElement(P.Provider,{value:p},t)}n(68);var I=function(e){var t=Object(a.useState)([]),n=Object(C.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)([]),l=Object(C.a)(i,2),s=l[0],u=l[1],p=Object(a.useState)(""),f=Object(C.a)(p,2),d=f[0],h=f[1],v=Object(a.useState)(""),y=Object(C.a)(v,2),g=(y[0],y[1],Object(a.useContext)(D)),k=(g.comicData,g.setComicData),w=(g.error,g.setError,g.clearError,g.clearComicData,Object(a.useContext)(P)),N=(w.commentsList,w.setCommentsList),U=(w.error,w.setError,w.clearError,w.clearCommentList,e.match.params.comicId);Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("".concat(S,"/comics/").concat(U));case 2:t=e.sent,o(t.data),k(t.data),console.log("comic",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("".concat(S,"/comments/comic/").concat(U));case 2:t=e.sent,u(t.data),N(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]);var I=function(){var e=Object(O.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.comicId,a=t.madeUpUserId,c=t.text,e.next=3,fetch("".concat(S,"/comments"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({comic_id:n,user_id:a,comment:c})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_="www.pisshappens.io/#"+e.match.url,A=r.comic_url;return c.a.createElement("div",null,c.a.createElement(E,null),c.a.createElement("main",null,c.a.createElement("h2",null,r.title),c.a.createElement("div",{className:"comicItem"},c.a.createElement("p",null,"Comic #",r.id),c.a.createElement("p",null,"Title: ",r.title),c.a.createElement("p",null,"Description: ",r.description),c.a.createElement("p",null,"Added on: ",r.date_created),c.a.createElement("div",{className:"comicSection"},function(){for(var e=[],t=1;t<=r.frames;t++)e.push("".concat(A,"?position=").concat(t));return e.map((function(e,t){return c.a.createElement("img",{src:e,key:t,className:"comicFrame"})}))}())),c.a.createElement(L,{copyUrl:function(e){e.preventDefault();var t=document.querySelector("#copyUrl");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")},comicUrl:_}),c.a.createElement("section",{className:"commentsSection"},s.map((function(e,t){return c.a.createElement("p",{key:t},e.full_name," said: ",e.comment)})),c.a.createElement("form",{onSubmit:function(e){return t=d,e.preventDefault(),console.log("form submitted with this data: ".concat(t)),I({madeUpUserId:1,comicId:U,text:t}).then((function(e){console.log("newComment",e),u((function(t){return[].concat(Object(x.a)(t),Object(x.a)(e))}))})),void h("");var t}},c.a.createElement("input",{type:"text",placeholder:"Write a comment",value:d,onChange:function(e){return h(e.target.value)}}),c.a.createElement("button",{disabled:!d},"Post Comment")))),c.a.createElement(b,null))},_=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:h}),c.a.createElement(l.a,{exact:!0,path:"/comics",component:w}),c.a.createElement(l.a,{path:"/comics/:comicId",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,null,c.a.createElement(k,null,c.a.createElement(N,null,c.a.createElement(U,null,c.a.createElement(_,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.ad1adff8.chunk.js.map